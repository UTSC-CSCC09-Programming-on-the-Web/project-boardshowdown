<!-- src/app/app.component.html -->
<div>
  <h1 class="text-center text-2xl font-bold my-4">Collaborative Whiteboard</h1>
</div>
<!-- This file is part of the Angular application for a collaborative whiteboard. -->
<div class="flex h-screen w-screen work-area">

  <!--Center whiteboard canvas  -->
  <div class="flex-1 bg-white h-screen w-screen overflow-hidden">
    <ng-whiteboard
      class="w-full h-full"
      [data]="data"
      (dataChange)="onDataChange($event)"
      [selectedTool]="selectedTool"
      [canvasWidth]="canvasWidth"
      [canvasHeight]="canvasHeight"
      [fullScreen]="fullScreen"
      [strokeColor]="strokeColor"
      [backgroundColor]="backgroundColor"
      [fill]="fill"
      [strokeWidth]="strokeWidth"
      [zoom]="zoom"
      [fontFamily]="fontFamily"
      [fontSize]="fontSize"
      [enableGrid]="enableGrid"
      [gridSize]="gridSize"
      [snapToGrid]="snapToGrid"
      [lineJoin]="lineJoin"
      [lineCap]="lineCap"
      [dasharray]="dasharray"
      [dashoffset]="dashoffset"
      (save)="onSave($event)"
      (ready)="onReady()"
    ></ng-whiteboard>
  </div>

  <!-- Right settings panel -->
<aside
  class="w-64 bg-white shadow-lg p-4 space-y-4 overflow-auto"
  role="complementary"
  aria-label="Whiteboard settings"
>
  <!-- Tools (always open) -->
  <section aria-label="Drawing tools">
    <h2 class="text-lg font-semibold mb-2">Tools</h2>
    <div class="flex flex-wrap gap-2">
      <button
        class="tool-btn"
        (click)="setTool(ToolType.Pen)"
        title="Pen"
        aria-label="Pen tool"
      >‚úèÔ∏è</button>
      <button class="tool-btn" (click)="setTool(ToolType.Line)" title="Line" aria-label="Line tool">‚Äî</button>
      <button class="tool-btn" (click)="setTool(ToolType.Rectangle)" title="Rectangle" aria-label="Rectangle tool">‚ñ≠</button>
      <button class="tool-btn" (click)="setTool(ToolType.Ellipse)" title="Ellipse" aria-label="Ellipse tool">‚óØ</button>
      <button class="tool-btn" (click)="setTool(ToolType.Text)" title="Text" aria-label="Text tool">T</button>
      <button class="tool-btn" (click)="setTool(ToolType.Eraser)" title="Eraser" aria-label="Eraser tool">üßπ</button>
    </div>
  </section>

  <!-- Actions -->
  <details>
    <summary class="text-lg font-semibold mb-2 cursor-pointer">
      Actions
    </summary>
    <div class="flex gap-2 mt-2">
      <button class="action-btn" (click)="undo()" title="Undo" aria-label="Undo">‚Ü∫</button>
      <button class="action-btn" (click)="redo()" title="Redo" aria-label="Redo">‚Üª</button>
      <button class="action-btn" (click)="save()" title="Save" aria-label="Save">üíæ</button>
      <button class="action-btn" (click)="clear()" title="Clear" aria-label="Clear">üóëÔ∏è</button>
    </div>
  </details>

  <!-- Grid Toggle -->
  <div class="flex items-center">
    <input
      id="grid-toggle"
      type="checkbox"
      class="mr-2"
      [(ngModel)]="enableGrid"
    />
    <label for="grid-toggle" class="font-medium">
      {{ enableGrid ? 'Grid On' : 'Grid Off' }}
    </label>
  </div>

  <!-- Canvas Settings -->
  <details>
    <summary class="text-lg font-semibold mb-2 cursor-pointer">
      Canvas
    </summary>
    <div class="mt-2 space-y-2">
      <label class="flex justify-between">
        <span>Width</span>
        <input type="number" class="w-16 text-right" [(ngModel)]="canvasWidth"/>
      </label>
      <label class="flex justify-between">
        <span>Height</span>
        <input type="number" class="w-16 text-right" [(ngModel)]="canvasHeight"/>
      </label>
      <label class="inline-flex items-center">
        <input type="checkbox" class="mr-2" [(ngModel)]="fullScreen"/>
        Full screen
      </label>
    </div>
  </details>

  <!-- Stroke Settings -->
  <details>
    <summary class="text-lg font-semibold mb-2 cursor-pointer">
      Stroke
    </summary>
    <div class="mt-2 space-y-2">
      <label class="flex justify-between items-center">
        <span>Color</span>
        <input type="color" [(ngModel)]="strokeColor"/>
      </label>
      <label class="flex justify-between items-center">
        <span>Width</span>
        <input type="number" class="w-16 text-right" [(ngModel)]="strokeWidth"/>
      </label>
      <label class="flex justify-between items-center">
        <span>Fill</span>
        <input type="color" [(ngModel)]="fill"/>
      </label>
    </div>
  </details>

  <!-- View -->
  <details>
    <summary class="text-lg font-semibold mb-2 cursor-pointer">
      View
    </summary>
    <div class="mt-2">
      <label class="flex justify-between">
        <span>Zoom</span>
        <input type="number" step="0.1" class="w-16 text-right" [(ngModel)]="zoom"/>
      </label>
    </div>
  </details>

  <!-- Grid Settings -->
  <details>
    <summary class="text-lg font-semibold mb-2 cursor-pointer">
      Grid Settings
    </summary>
    <div class="mt-2 space-y-2">
      <label class="flex justify-between">
        <span>Grid Size</span>
        <input type="number" class="w-16 text-right" [(ngModel)]="gridSize"/>
      </label>
      <label class="inline-flex items-center">
        <input type="checkbox" class="mr-2" [(ngModel)]="snapToGrid"/>
        Snap to grid
      </label>
    </div>
  </details>
</aside>


</div>