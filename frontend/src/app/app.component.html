<!-- src/app/app.component.html -->
<div>
  <h1 class="text-center text-2xl font-bold my-4">Collaborative Whiteboard</h1>
</div>
<!-- This file is part of the Angular application for a collaborative whiteboard. -->
<div class="flex h-screen work-area">
  <!-- โ๏ธ  Left toolbar โถ๏ธ -->
  <div class="w-16 bg-gray-800 text-white flex flex-col items-center py-2 space-y-2">
    <button (click)="setTool(ToolType.Pen)"      title="Pen">โ๏ธ</button>
    <button (click)="setTool(ToolType.Line)"     title="Line">โ</button>
    <button (click)="setTool(ToolType.Rectangle)"title="Rect">โญ</button>
    <button (click)="setTool(ToolType.Ellipse)"  title="Ellipse">โฏ</button>
    <button (click)="setTool(ToolType.Text)"     title="Text">T</button>
    <button (click)="setTool(ToolType.Eraser)"   title="Eraser">๐งน</button>

    <hr class="border-gray-600 w-8"/>

    <button (click)="undo()"  title="Undo">โบ</button>
    <button (click)="redo()"  title="Redo">โป</button>
    <button (click)="save()"  title="Save">๐พ</button>
    <button (click)="clear()" title="Clear">๐๏ธ</button>

    <hr class="border-gray-600 w-8"/>

    <button (click)="toggleGrid()" title="Toggle Grid">
      {{ enableGrid ? 'Grid On' : 'Grid Off' }}
    </button>
  </div>

  <!-- ๐  Center whiteboard canvas โถ๏ธ -->
  <div class="flex-1 bg-white overflow-hidden">
    <ng-whiteboard
      class="w-full h-full"
      [data]="data"
      (dataChange)="onDataChange($event)"
      [selectedTool]="selectedTool"
      [canvasWidth]="canvasWidth"
      [canvasHeight]="canvasHeight"
      [fullScreen]="fullScreen"
      [strokeColor]="strokeColor"
      [backgroundColor]="backgroundColor"
      [fill]="fill"
      [strokeWidth]="strokeWidth"
      [zoom]="zoom"
      [fontFamily]="fontFamily"
      [fontSize]="fontSize"
      [enableGrid]="enableGrid"
      [gridSize]="gridSize"
      [snapToGrid]="snapToGrid"
      [lineJoin]="lineJoin"
      [lineCap]="lineCap"
      [dasharray]="dasharray"
      [dashoffset]="dashoffset"
      (ready)="onReady()"
    ></ng-whiteboard>
  </div>

  <!-- โถ๏ธ  Right settings panel โถ๏ธ -->
  <div class="w-64 bg-gray-100 p-4 space-y-3 overflow-auto">
    <h2 class="font-bold mb-2">Canvas</h2>
    <label>Width:  <input type="number" [(ngModel)]="canvasWidth"/></label>
    <label>Height: <input type="number" [(ngModel)]="canvasHeight"/></label>
    <label><input type="checkbox" [(ngModel)]="fullScreen"/> Full Screen</label>

    <h2 class="font-bold mt-4">Stroke</h2>
    <label>Color:       <input type="color" [(ngModel)]="strokeColor"/></label>
    <label>Width:       <input type="number" [(ngModel)]="strokeWidth"/></label>
    <label>Fill:        <input type="color" [(ngModel)]="fill"/></label>

    <h2 class="font-bold mt-4">View</h2>
    <label>Zoom:        <input type="number" step="0.1" [(ngModel)]="zoom"/></label>

    <h2 class="font-bold mt-4">Grid</h2>
    <label><input type="checkbox" [(ngModel)]="enableGrid"/> Show Grid</label>
    <label>Grid Size:   <input type="number" [(ngModel)]="gridSize"/></label>
    <label><input type="checkbox" [(ngModel)]="snapToGrid"/> Snap to Grid</label>

    <h2 class="font-bold mt-4">Advanced</h2>
    <label>Line Join:
      <select [(ngModel)]="lineJoin">
        <option *ngFor="let opt of LineJoin | keyvalue" [ngValue]="opt.value">{{opt.key}}</option>
      </select>
    </label>
    <label>Line Cap:
      <select [(ngModel)]="lineCap">
        <option *ngFor="let opt of LineCap | keyvalue" [ngValue]="opt.value">{{opt.key}}</option>
      </select>
    </label>
    <label>Dash Array:  <input type="text"  [(ngModel)]="dasharray"/></label>
    <label>Dash Offset:<input type="number"[(ngModel)]="dashoffset"/></label>
  </div>
</div>